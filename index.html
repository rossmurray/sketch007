<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>007</title>
  <style>
  html {
    height: 100%;
    width: 100%;
  }
  body {
    width: 100%;
    height: 100%;
    margin: 0px;
    border: 0;
  }
  canvas#main {
    position: absolute;
    left: 0px;
    top: 0px;
  }
  </style>
</head>
  <script src="lib/pixi.min.js"></script>
  <script src="lib/anime.min.js"></script>
  <script src="lib/chroma.min.js"></script>
  <script src="lib/dat.gui.min.js"></script>
  <script src="lib/lodash.min.js"></script>
<body>
  <div id="controls">
  </div>
  <canvas id="main"></canvas>
  <script type="text/javascript">
    (function(){
      let canvas = document.getElementById('main');
       canvas.width = window.innerWidth;
       canvas.height = window.innerHeight;
       //canvas.width = 1080;
       //canvas.height = 1080;
    })();
  </script>
  <script type="text/javascript" src="main.js"></script>
  <script type="text/javascript">
    const config = {
      modSetting: 2,
      boardSideLength: 5,
      isTorus: false,
    };
    const ctrl = fnMain(config);
    //random puzzle
    //reset puzzle
    //onWin event
    //basic / advanced (mod 2 or mod 3)
    //onModeChange event
    //set board length
    //on a torus checkbox
    const gui = new dat.GUI();
    const proxy = {
      colorSteps: config.modSetting,
      boardSize: config.boardSideLength,
      reset: () => ctrl.gameCtrl.reset(),
    };
    proxy.new = () => {
      config.modSetting = proxy.colorSteps;
      config.boardSideLength = proxy.boardSize;
      ctrl.gameCtrl.new(config);
    };
    // const bindProxy = (p, game) => {
    //   p.new = () => {
    //     config.modSetting = p.colorSteps;
    //     config.boardSideLength = p.boardSize;
    //     const g = game.remakeGame(config);
    //     bindProxy(p, g);
    //   };
    //   p.reset = game.resetPuzzle;
    // };
    // bindProxy(proxy, ctrl.game);
    //gui.add(ctrl.game, 'randomizeBoard');
    gui.add(proxy, 'new');
    gui.add(proxy, 'reset');
    gui.add(proxy, 'colorSteps', 2, 3).step(1);
    gui.add(proxy, 'boardSize', 4, 6).step(1);
  </script>
</body>
</html>